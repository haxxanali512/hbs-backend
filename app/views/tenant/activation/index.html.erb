<div class="max-w-6xl mx-auto py-8 px-4 sm:px-6 lg:px-8">
  <!-- Header -->
  <div class="mb-6">
    <h1 class="text-2xl font-bold text-gray-900">Organization Activation</h1>
    <p class="mt-2 text-gray-600">Complete the setup process to activate your organization</p>
  </div>

  <!-- Main Content with proper spacing -->
  <div class="space-y-6">
    <!-- Progress Card -->
    <div class="rounded-2xl border border-gray-200 bg-white p-8 shadow-sm">
      <h3 class="text-base font-semibold text-gray-900 mb-4">Activation Progress</h3>
      <div class="flex items-center justify-between mb-2">
        <span class="text-sm font-medium text-gray-700">Overall Progress</span>
        <span class="text-sm font-medium text-gray-700"><%= @organization.activation_progress_percentage %>%</span>
      </div>
      <div class="w-full bg-gray-200 rounded-full h-2">
        <div class="bg-indigo-600 h-2 rounded-full transition-all duration-300" style="width: <%= @organization.activation_progress_percentage %>%"></div>
      </div>
    </div>

    <!-- Steps -->
    <div class="rounded-2xl border border-gray-200 bg-white p-8 shadow-sm">
      <h3 class="text-base font-semibold text-gray-900 mb-6">Activation Steps</h3>
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6">
        <% @steps.each_with_index do |step, index| %>
          <div class="relative">
            <!-- Step Card -->
            <div class="<%= step[:completed] ? 'bg-green-50 border-green-500' : step[:current] ? 'bg-indigo-50 border-indigo-500' : 'bg-white border-gray-300' %> rounded-2xl border-2 p-8 text-center shadow-sm">
              <!-- Step Number/Icon -->
              <div class="mx-auto flex h-12 w-12 items-center justify-center rounded-full <%= step[:completed] ? 'bg-green-600' : step[:current] ? 'bg-indigo-500' : 'bg-indigo-500' %> mb-4">
                <% if step[:completed] %>
                  <svg class="h-8 w-8 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="3">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7" />
                  </svg>
                <% else %>
                  <span class="text-lg font-semibold text-white"><%= index + 1 %></span>
                <% end %>
              </div>
              
              <!-- Step Name -->
              <h4 class="text-sm font-semibold <%= step[:completed] ? 'text-green-900' : step[:current] ? 'text-indigo-900' : 'text-gray-900' %>">
                <%= step[:name] %>
              </h4>
              
              <!-- Status -->
              <p class="mt-1 text-xs font-medium <%= step[:completed] ? 'text-green-700' : step[:current] ? 'text-indigo-700' : 'text-gray-600' %>">
                <% if step[:completed] %>
                  Complete
                <% elsif step[:current] %>
                  Current Step
                <% else %>
                  Pending
                <% end %>
              </p>
            </div>

            <!-- Connector Line -->
            <% unless index == @steps.length - 1 %>
              <div class="hidden lg:block absolute top-1/2 left-full w-full h-0.5 bg-gray-200 transform -translate-y-1/2 z-0" style="width: calc(100% - 1.5rem); margin-left: 0.75rem;"></div>
            <% end %>
          </div>
        <% end %>
      </div>
    </div>

    <!-- Current Step Actions -->
    <div class="rounded-2xl border border-gray-200 bg-white p-8 shadow-sm">
    <% case @organization.activation_status %>
    <% when 'pending', 'compliance_setup' %>
      <h3 class="text-base font-semibold text-gray-900 mb-2">Ready to get started?</h3>
      <p class="text-sm text-gray-500 mb-6">Let's begin by setting up your compliance information.</p>
      <%= link_to "Start Compliance Setup", tenant_activation_compliance_path, class: "inline-flex items-center rounded-lg bg-indigo-600 px-5 py-2.5 text-sm font-medium text-white shadow-sm hover:bg-indigo-700" %>
    <% when 'billing_setup' %>
      <p class="text-sm text-gray-500 mb-6">Complete your compliance setup to continue with billing.</p>
      <%= link_to "Continue to Billing", tenant_activation_billing_path, class: "inline-flex items-center rounded-lg bg-indigo-600 px-5 py-2.5 text-sm font-medium text-white shadow-sm hover:bg-indigo-700" %>
    <% when 'document_signing' %>
      <p class="text-sm text-gray-500 mb-6">Complete your document signing to finalize your organization activation.</p>
      <%= link_to "Continue to Document Signing", tenant_activation_document_signing_path, class: "inline-flex items-center rounded-lg bg-indigo-600 px-5 py-2.5 text-sm font-medium text-white shadow-sm hover:bg-indigo-700" %>
    <% end %>
    </div>
  </div>
</div>
